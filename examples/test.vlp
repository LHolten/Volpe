sort_4 := ((a0, a1, a2, a3), i) {
    i < 0 -> (a0, a1, a2, a3)
    i = 0 -> {
        a0 > a1 -> @((a1, a0, a2, a3), i+1)
        @((a0, a1, a2, a3), i+1)
    }
    i = 1 -> {
        a1 > a2 -> @((a0, a2, a1, a3), i+1)
        @((a0, a1, a2, a3), i+1)
    }
    i = 2 -> {
        a2 > a3 -> @((a0, a1, a3, a2), i+1)
        @((a0, a1, a2, a3), i+1)
    }
    i = 3 -> {
        (a3 > a2 && a2 > a1 && a1 > a0) -> (a0, a1, a2, a3)
        @((a0, a1, a2, a3), 0)
    }
    (a0, a1, a2, a3)
}

sorted := sort_4(('d', 'a', 'c', 'b'), 0)

(sorted, '\n', '\t', '\\', '\'', '"', 'a', 'b')
